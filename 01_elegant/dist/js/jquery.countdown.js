!function(t,s,e,i){"use strict";var n="countDown",a={css_class:"countdown",always_show_days:!1,with_labels:!0,with_seconds:!0,with_separators:!0,with_hh_leading_zero:!0,with_mm_leading_zero:!0,with_ss_leading_zero:!0,label_dd:"Days",label_hh:"Hours",label_mm:"Minutes",label_ss:"Seconds",separator:":",separator_days:","};function h(s,e){this.element=t(s),this.options=t.extend({},a,e),this._defaults=a,this._name=n,this.init()}t.extend(h.prototype,{init:function(){this.element.children().length||(this.element.attr("datetime")&&(this.endDate=this.parseEndDate(this.element.attr("datetime"))),void 0===this.endDate&&(this.endDate=this.parseEndDate(this.element.text())),void 0!==this.endDate&&(this.element.is("time")?this.timeElement=this.element:(this.timeElement=t("<time></time>"),this.element.html(this.timeElement)),this.markup(),this.setTimeoutDelay=this.sToMs(1),this.daysVisible=!0,this.timeElement.on("time.elapsed",this.options.onTimeElapsed),this.timeElement.on("time.tick",this.options.onTick),this.doCountDown()))},parseEndDate:function(t){var s;return(s=this.parseDuration(t))instanceof Date?s:(s=this.parseDateTime(t))instanceof Date?s:(s=this.parseHumanReadableDuration(t))instanceof Date?s:(s=Date.parse(t),isNaN(s)?void 0:new Date(s))},parseDuration:function(t){var s,e,i,n,a,h,o=t.match(/^P(?:(\d+)D)?T?(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)(?:\.(\d{1,3}))?S)?$/);if(o)return e=o[1]?this.dToMs(o[1]):0,i=o[2]?this.hToMs(o[2]):0,n=o[3]?this.mToMs(o[3]):0,a=o[4]?this.sToMs(o[4]):0,h=o[5]?parseInt(o[5],10):0,(s=new Date).setTime(s.getTime()+e+i+n+a+h),s},parseDateTime:function(t){var s=t.match(/^(\d{4,})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2})(?:\:(\d{2}))?(?:\.(\d{1,3}))?([Z\+\-\:\d]+)?$/);if(s){var e,i,n,a,h,o,m,d,r=s[8]?s[8].match(/^([\+\-])?(\d{2}):?(\d{2})$/):void 0,l=0;return r&&(l=this.hToMs(r[2])+this.mToMs(r[3]),l="-"===r[1]?l:-l),i=s[1],n=s[2]-1,a=s[3],h=s[4]||0,o=s[5]||0,m=s[6]||0,d=s[7]||0,(e=new Date(Date.UTC(i,n,a,h,o,m,d))).setTime(e.getTime()+l),e}},parseHumanReadableDuration:function(t){var s,e,i,n,a,h,o=t.match(/^(?:(\d+).+\s)?(\d+)[h:]\s?(\d+)[m:]?\s?(\d+)?[s]?(?:\.(\d{1,3}))?$/);if(o)return s=new Date,e=o[1]?this.dToMs(o[1]):0,i=o[2]?this.hToMs(o[2]):0,n=o[3]?this.mToMs(o[3]):0,a=o[4]?this.sToMs(o[4]):0,h=o[5]?parseInt(o[5],10):0,s.setTime(s.getTime()+e+i+n+a+h),s},sToMs:function(t){return 1e3*parseInt(t,10)},mToMs:function(t){return 60*parseInt(t,10)*1e3},hToMs:function(t){return 60*parseInt(t,10)*60*1e3},dToMs:function(t){return 24*parseInt(t,10)*60*60*1e3},msToS:function(t){return parseInt(t/1e3%60,10)},msToM:function(t){return parseInt(t/1e3/60%60,10)},msToH:function(t){return parseInt(t/1e3/60/60%24,10)},msToD:function(t){return parseInt(t/1e3/60/60/24,10)},markup:function(){var t=['<dl class="item item-dd days">','<dd class="dd"></dd>','<dt class="label label-dd">',this.options.label_dd,"</dt>","</dl>",'<dt class="separator separator-dd">',this.options.separator_days,"</dt>",'<dl class="item item-hh hours">',"<dd>",'<span class="hh-1"></span>','<span class="hh-2"></span>',"</dd>",'<dt class="label label-hh">',this.options.label_hh,"</dt>","</dl>",'<span class="separator">',this.options.separator,"</span>",'<dl class="item item-mm minutes">',"<dd>",'<span class="mm-1"></span>','<span class="mm-2"></span>',"</dd>",'<dt class="label label-mm">',this.options.label_mm,"</dt>","</dl>",'<span class="separator">',this.options.separator,"</span>",'<dl class="item item-ss seconds">',"<dd>",'<span class="ss-1"></span>','<span class="ss-2"></span>',"</dd>",'<dt class="label label-ss">',this.options.label_ss,"</dt>","</dl>"];this.timeElement.html(t.join("")),this.options.with_labels||this.timeElement.find(".label").remove(),this.options.with_separators||this.timeElement.find(".separator").remove(),this.options.with_seconds||(this.timeElement.find(".item-ss").remove(),this.timeElement.find(".separator").last().remove()),this.item_dd=this.timeElement.find(".item-dd"),this.separator_dd=this.timeElement.find(".separator-dd"),this.remaining_dd=this.timeElement.find(".dd"),this.remaining_hh1=this.timeElement.find(".hh-1"),this.remaining_hh2=this.timeElement.find(".hh-2"),this.remaining_mm1=this.timeElement.find(".mm-1"),this.remaining_mm2=this.timeElement.find(".mm-2"),this.remaining_ss1=this.timeElement.find(".ss-1"),this.remaining_ss2=this.timeElement.find(".ss-2"),this.timeElement.addClass(this.options.css_class)},doCountDown:function(){var t=this.endDate.getTime()-(new Date).getTime(),e=this.msToS(t),i=this.msToM(t),n=this.msToH(t),a=this.msToD(t);if(t<=0&&(e=i=n=a=0),this.displayRemainingTime({ss:e<10?(this.options.with_ss_leading_zero?"0":" ")+e.toString():e.toString(),mm:i<10?(this.options.with_mm_leading_zero?"0":" ")+i.toString():i.toString(),hh:n<10?(this.options.with_hh_leading_zero?"0":" ")+n.toString():n.toString(),dd:a.toString()}),this.options.with_seconds||0!==a||0!==i||0!==n||(e=0),0===a&&0===i&&0===n&&0===e)return this.timeElement.trigger("time.elapsed");var h=this;return s.setTimeout(function(){h.doCountDown()},h.setTimeoutDelay),this.timeElement.trigger("time.tick",t)},displayRemainingTime:function(t){var s=[];s.push("P"),"0"!==t.dd&&s.push(t.dd,"D"),s.push("T",t.hh,"H",t.mm,"M"),this.options.with_seconds&&s.push(t.ss,"S"),this.timeElement.attr("datetime",s.join("")),this.daysVisible&&!this.options.always_show_days&&"0"===t.dd&&(this.item_dd.remove(),this.separator_dd.remove(),this.daysVisible=!1),this.remaining_dd.text(t.dd),this.remaining_hh1.text(t.hh[0].trim()),this.remaining_hh2.text(t.hh[1]),this.remaining_mm1.text(t.mm[0].trim()),this.remaining_mm2.text(t.mm[1]),this.remaining_ss1.text(t.ss[0].trim()),this.remaining_ss2.text(t.ss[1])}}),t.fn[n]=function(s){var e,i=arguments;return void 0===s||"object"==typeof s?this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new h(this,s))}):"string"==typeof s&&"_"!==s[0]&&"init"!==s?(this.each(function(){var a=t.data(this,"plugin_"+n);a instanceof h&&"function"==typeof a[s]&&(e=a[s].apply(a,Array.prototype.slice.call(i,1))),"destroy"===s&&t.data(this,"plugin_"+n,null)}),void 0!==e?e:this):void 0}}(window.jQuery,window,document);